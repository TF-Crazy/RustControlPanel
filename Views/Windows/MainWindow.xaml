<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MainWindow.xaml - Compact design with vertical navigation           -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<Window x:Class="RustControlPanel.Views.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:RustControlPanel.ViewModels"
        xmlns:controls="clr-namespace:RustControlPanel.Views.Controls"
        Title="Rust Control Panel" 
        Height="800" Width="1400"
        MinHeight="600" MinWidth="1100"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResize">

    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Border Background="{DynamicResource ThemeBackground}"
            BorderBrush="{DynamicResource ThemeBorderAccent}"
            BorderThickness="1"
            CornerRadius="8"
            Effect="{DynamicResource CardShadowOuter}">
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="32"/>        <!-- TitleBar (compact) -->
                <RowDefinition Height="*"/>         <!-- Content + Sidebar -->
            </Grid.RowDefinitions>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- TITLEBAR (Windows style, compact)                                -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Grid.Row="0" 
                    Background="{DynamicResource ThemeTitleBar}"
                    CornerRadius="8,8,0,0"
                    BorderBrush="{DynamicResource ThemeCardBorder}"
                    BorderThickness="0,0,0,1"
                    MouseLeftButtonDown="OnTitleBarMouseDown">
                <Grid Margin="12,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Logo + Title (compact) -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <Viewbox Width="18" Height="18" Margin="0,0,8,0">
                            <Canvas Width="32" Height="32">
                                <Path Data="M16,2 L28,9 L28,23 L16,30 L4,23 L4,9 Z"
                                      Fill="{DynamicResource ThemeAccent}"/>
                                <Path Data="M12,10 L12,22 M12,10 L17,10 Q19,10 19,12 Q19,14 17,14 L12,14 M17,14 L20,22"
                                      Stroke="White" StrokeThickness="2" StrokeLineJoin="Round"/>
                            </Canvas>
                        </Viewbox>
                        
                        <TextBlock Text="Rust Control Panel" 
                                   Foreground="{DynamicResource ThemeText}"
                                   FontSize="12"
                                   FontWeight="Medium"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Window controls (compact) -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                        <Button Content="â”" 
                                Command="{Binding MinimizeCommand}"
                                Style="{StaticResource TitleBarButton}"
                                Width="36" Height="32"
                                FontSize="12"
                                Foreground="{DynamicResource ThemeTextMuted}"/>
                        
                        <Button Content="â–¢" 
                                Command="{Binding MaximizeCommand}"
                                Style="{StaticResource TitleBarButton}"
                                Width="36" Height="32"
                                FontSize="12"
                                Foreground="{DynamicResource ThemeTextMuted}"/>
                        
                        <Button Content="âœ•" 
                                Command="{Binding CloseCommand}"
                                Style="{StaticResource TitleBarButton}"
                                Width="36" Height="32"
                                FontSize="14"
                                Foreground="{DynamicResource ThemeTextMuted}"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- MAIN CONTENT with SIDEBAR                                         -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>      <!-- Vertical navigation -->
                    <ColumnDefinition Width="*"/>       <!-- Main content -->
                </Grid.ColumnDefinitions>

                <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                <!-- VERTICAL NAVIGATION (Left sidebar)                                -->
                <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                <Border Grid.Column="0"
                        Background="{DynamicResource ThemeTitleBar}"
                        BorderBrush="{DynamicResource ThemeCardBorder}"
                        BorderThickness="0,0,1,0">
                    <StackPanel Margin="0,8">
                        <!-- Map -->
                        <Button ToolTip="Map"
                                Width="48" Height="48"
                                Margin="6,0"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand">
                            <TextBlock Text="ðŸ—ºï¸" FontSize="20"/>
                        </Button>
                        
                        <!-- Stats -->
                        <Button ToolTip="Stats"
                                Width="48" Height="48"
                                Margin="6,4,6,0"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand">
                            <TextBlock Text="ðŸ“Š" FontSize="20"/>
                        </Button>
                        
                        <!-- Players -->
                        <Button ToolTip="Players"
                                Width="48" Height="48"
                                Margin="6,4,6,0"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand">
                            <TextBlock Text="ðŸ‘¥" FontSize="20"/>
                        </Button>
                        
                        <!-- Console -->
                        <Button ToolTip="Console"
                                Width="48" Height="48"
                                Margin="6,4,6,0"
                                Background="Transparent"
                                BorderThickness="0"
                                Cursor="Hand">
                            <TextBlock Text="ðŸ’»" FontSize="20"/>
                        </Button>
                    </StackPanel>
                </Border>

                <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                <!-- MAIN CONTENT AREA                                                 -->
                <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="48"/>    <!-- TopBar (compact) -->
                        <RowDefinition Height="*"/>     <!-- Content -->
                    </Grid.RowDefinitions>

                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <!-- TOPBAR (Stats + Actions, COMPACT)                                 -->
                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <Border Grid.Row="0" 
                            Background="{DynamicResource ThemeTopBar}"
                            BorderBrush="{DynamicResource ThemeCardBorder}"
                            BorderThickness="0,0,0,1">
                        <Grid Margin="12,6">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- Stats (TAILLES FIXES) -->
                            <StackPanel Grid.Column="0" Orientation="Horizontal">
                                <!-- Players (TAILLE FIXE 80px) -->
                                <Border Background="{DynamicResource ThemeCard}"
                                        BorderBrush="{DynamicResource ThemeCardBorder}"
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Width="80"
                                        Height="36"
                                        Padding="6,0"
                                        Margin="0,0,6,0"
                                        Effect="{DynamicResource CardShadowInner}">
                                    <Grid>
                                        <TextBlock Text="ðŸ‘¥" 
                                                   FontSize="14" 
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"/>
                                        <TextBlock VerticalAlignment="Center" 
                                                   HorizontalAlignment="Right"
                                                   FontSize="11">
                                            <Run Text="{Binding PlayerCount}" 
                                                 Foreground="{DynamicResource ThemeAccent}" 
                                                 FontWeight="SemiBold"/>
                                            <Run Text="/" 
                                                 Foreground="{DynamicResource ThemeTextMuted}"/>
                                            <Run Text="{Binding MaxPlayers}" 
                                                 Foreground="{DynamicResource ThemeTextSecondary}"/>
                                        </TextBlock>
                                    </Grid>
                                </Border>

                                <!-- FPS (TAILLE FIXE 75px) -->
                                <Border Background="{DynamicResource ThemeCard}"
                                        BorderBrush="{DynamicResource ThemeCardBorder}"
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Width="75"
                                        Height="36"
                                        Padding="6,0"
                                        Margin="0,0,6,0"
                                        Effect="{DynamicResource CardShadowInner}">
                                    <Grid>
                                        <TextBlock Text="âš¡" 
                                                   FontSize="14" 
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"/>
                                        <TextBlock HorizontalAlignment="Right"
                                                   VerticalAlignment="Center"
                                                   FontSize="11"
                                                   FontWeight="SemiBold"
                                                   Foreground="{DynamicResource ThemeAccentSuccess}">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="{Binding ServerFps, StringFormat={}{0:F0}}"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ServerFps}" Value="0">
                                                            <Setter Property="Text" Value="--"/>
                                                            <Setter Property="Foreground" Value="{DynamicResource ThemeTextMuted}"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Border>

                                <!-- FPS Chart (TAILLE FIXE 280x36) -->
                                <Border Background="{DynamicResource ThemeCard}"
                                        BorderBrush="{DynamicResource ThemeCardBorder}"
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Width="280"
                                        Height="36"
                                        Effect="{DynamicResource GlassGlow}">
                                    <controls:FpsChart Margin="2"/>
                                </Border>
                            </StackPanel>

                            <!-- Actions -->
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="ðŸ›"
                                        Command="{Binding OpenDebugCommand}"
                                        Width="32" Height="32"
                                        FontSize="14"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Foreground="{DynamicResource ThemeTextMuted}"
                                        Cursor="Hand"
                                        Margin="0,0,4,0"/>
                                
                                <Button Content="ðŸ”Œ"
                                        Command="{Binding DisconnectCommand}"
                                        Width="32" Height="32"
                                        FontSize="14"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Foreground="{DynamicResource ThemeTextMuted}"
                                        Cursor="Hand"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <!-- CONTENT AREA                                                      -->
                    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
                    <Grid Grid.Row="1" Background="{DynamicResource ThemeBackground}">
                        <TextBlock Text="Content Area" 
                                   Style="{StaticResource Heading2}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource ThemeTextMuted}"/>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Border>
    
</Window>

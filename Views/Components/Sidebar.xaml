<!-- ════════════════════════════════════════════════════════════════════ -->
<!-- Sidebar.xaml - Modern collapsible sidebar with clean icons          -->
<!-- ════════════════════════════════════════════════════════════════════ -->

<UserControl x:Class="RustControlPanel.Views.Components.Sidebar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="SidebarControl">

    <Border Background="{DynamicResource ThemeTitleBar}"
            BorderBrush="{DynamicResource ThemeCardBorder}"
            BorderThickness="0,0,1,0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Toggle Button -->
            <Button Grid.Row="0"
                    Click="OnToggleClick"
                    Height="40"
                    Margin="8"
                    Background="Transparent"
                    BorderThickness="0"
                    Cursor="Hand"
                    HorizontalAlignment="Right">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="4"
                                            Padding="8">
                                        <Path x:Name="Icon"
                                              Data="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
                                              Fill="{DynamicResource ThemeTextMuted}"
                                              Stretch="Uniform"
                                              Width="16" Height="16"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#20FFFFFF"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>

            <!-- Navigation Items -->
            <StackPanel Grid.Row="1" Margin="8,0,8,12">
                
                <!-- Map -->
                <Border x:Name="MapBorder"
                        Height="48"
                        Margin="0,0,0,4"
                        Background="Transparent"
                        CornerRadius="6"
                        Cursor="Hand"
                        MouseLeftButtonDown="OnMapClick">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#20FFFFFF"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <Grid Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Icon -->
                        <Viewbox Width="22" Height="22" Grid.Column="0">
                            <Canvas Width="24" Height="24">
                                <Path Data="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z"
                                      Fill="{DynamicResource ThemeAccent}"
                                      Opacity="0.9"/>
                            </Canvas>
                        </Viewbox>
                        
                        <!-- Text (only if expanded) -->
                        <TextBlock x:Name="MapText"
                                   Grid.Column="1"
                                   Text="Map"
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource ThemeText}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0"/>
                    </Grid>
                </Border>

                <!-- Stats -->
                <Border x:Name="StatsBorder"
                        Height="48"
                        Margin="0,0,0,4"
                        Background="Transparent"
                        CornerRadius="6"
                        Cursor="Hand"
                        MouseLeftButtonDown="OnStatsClick">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#20FFFFFF"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <Grid Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Viewbox Width="22" Height="22" Grid.Column="0">
                            <Canvas Width="24" Height="24">
                                <Path Data="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"
                                      Fill="{DynamicResource ThemeAccent}"
                                      Opacity="0.9"/>
                            </Canvas>
                        </Viewbox>
                        
                        <TextBlock x:Name="StatsText"
                                   Grid.Column="1"
                                   Text="Stats"
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource ThemeText}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0"/>
                    </Grid>
                </Border>

                <!-- Players -->
                <Border x:Name="PlayersBorder"
                        Height="48"
                        Margin="0,0,0,4"
                        Background="Transparent"
                        CornerRadius="6"
                        Cursor="Hand"
                        MouseLeftButtonDown="OnPlayersClick">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#20FFFFFF"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <Grid Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Viewbox Width="22" Height="22" Grid.Column="0">
                            <Canvas Width="24" Height="24">
                                <Path Data="M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z"
                                      Fill="{DynamicResource ThemeAccent}"
                                      Opacity="0.9"/>
                            </Canvas>
                        </Viewbox>
                        
                        <TextBlock x:Name="PlayersText"
                                   Grid.Column="1"
                                   Text="Players"
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource ThemeText}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0"/>
                    </Grid>
                </Border>

                <!-- Console -->
                <Border x:Name="ConsoleBorder"
                        Height="48"
                        Margin="0,0,0,4"
                        Background="Transparent"
                        CornerRadius="6"
                        Cursor="Hand"
                        MouseLeftButtonDown="OnConsoleClick">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#20FFFFFF"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <Grid Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Viewbox Width="22" Height="22" Grid.Column="0">
                            <Canvas Width="24" Height="24">
                                <Path Data="M20,19V7H4V19H20M20,3A2,2 0 0,1 22,5V19A2,2 0 0,1 20,21H4A2,2 0 0,1 2,19V5C2,3.89 2.9,3 4,3H20M13,17V15H18V17H13M9.58,13L5.57,9H8.4L11.7,12.3C12.09,12.69 12.09,13.33 11.7,13.72L8.42,17H5.59L9.58,13Z"
                                      Fill="{DynamicResource ThemeAccent}"
                                      Opacity="0.9"/>
                            </Canvas>
                        </Viewbox>
                        
                        <TextBlock x:Name="ConsoleText"
                                   Grid.Column="1"
                                   Text="Console"
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="{DynamicResource ThemeText}"
                                   VerticalAlignment="Center"
                                   Margin="12,0,0,0"/>
                    </Grid>
                </Border>
            </StackPanel>

            <!-- Bottom Info (only when expanded) -->
            <Border x:Name="BottomInfo"
                    Grid.Row="2"
                    Background="{DynamicResource ThemeCard}"
                    CornerRadius="6"
                    Padding="12"
                    Margin="8,0,8,8">
                <StackPanel>
                    <TextBlock Text="Server Stats"
                               FontSize="11"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource ThemeTextMuted}"
                               Margin="0,0,0,8"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0"
                                   Text="Players"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeTextSecondary}"/>
                        <TextBlock Grid.Row="0" Grid.Column="1"
                                   Text="0/50"
                                   FontSize="11"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource ThemeAccent}"/>

                        <TextBlock Grid.Row="1" Grid.Column="0"
                                   Text="FPS"
                                   FontSize="11"
                                   Foreground="{DynamicResource ThemeTextSecondary}"
                                   Margin="0,4,0,0"/>
                        <TextBlock Grid.Row="1" Grid.Column="1"
                                   Text="60"
                                   FontSize="11"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource ThemeAccentSuccess}"
                                   Margin="0,4,0,0"/>
                    </Grid>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
    
</UserControl>

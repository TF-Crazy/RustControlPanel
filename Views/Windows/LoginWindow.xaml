<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- LoginWindow.xaml - Login window interface                           -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<Window x:Class="RustControlPanel.Views.Windows.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:RustControlPanel.ViewModels"
        Title="Rust Control Panel - Connexion" 
        Height="650" Width="500"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundDarkBrush}"
        ResizeMode="CanMinimize">

    <Window.DataContext>
        <vm:LoginViewModel/>
    </Window.DataContext>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="40">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Logo/Title -->
                <RowDefinition Height="30"/>
                <!-- Spacer -->
                <RowDefinition Height="Auto"/>
                <!-- Connection form -->
                <RowDefinition Height="20"/>
                <!-- Spacer -->
                <RowDefinition Height="Auto"/>
                <!-- Saved servers -->
                <RowDefinition Height="20"/>
                <!-- Spacer -->
                <RowDefinition Height="Auto"/>
                <!-- Status -->
            </Grid.RowDefinitions>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- LOGO / TITLE                                                     -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <StackPanel Grid.Row="0" HorizontalAlignment="Center">
                <TextBlock Text="ðŸŽ®" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="Rust Control Panel" 
                           Style="{StaticResource Heading1}" 
                           HorizontalAlignment="Center"/>
                <Border Height="2" Width="100" 
                        Background="{StaticResource AccentBlueBrush}" 
                        Margin="0,10,0,0"/>
            </StackPanel>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- CONNECTION FORM                                                  -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Grid.Row="2" Style="{StaticResource CardPanel}">
                <StackPanel>
                    <!-- Host -->
                    <TextBlock Text="IP / Host" Style="{StaticResource LabelText}" Margin="0,0,0,6"/>
                    <TextBox Text="{Binding Host, UpdateSourceTrigger=PropertyChanged}" 
                             Style="{StaticResource ModernTextBox}" 
                             Margin="0,0,0,16"/>

                    <!-- Port -->
                    <TextBlock Text="Port" Style="{StaticResource LabelText}" Margin="0,0,0,6"/>
                    <TextBox Text="{Binding Port, UpdateSourceTrigger=PropertyChanged}" 
                             Style="{StaticResource ModernTextBox}" 
                             Margin="0,0,0,16"/>

                    <!-- Password -->
                    <TextBlock Text="Mot de passe" Style="{StaticResource LabelText}" Margin="0,0,0,6"/>
                    <PasswordBox x:Name="PasswordBox"
                                 Style="{StaticResource ModernPasswordBox}" 
                                 PasswordChanged="OnPasswordChanged"
                                 Margin="0,0,0,16"/>

                    <!-- Save credentials -->
                    <CheckBox IsChecked="{Binding SaveCredentials}" 
                              Foreground="{StaticResource TextSecondaryBrush}"
                              Margin="0,0,0,20">
                        <TextBlock Text="Sauvegarder les identifiants" 
                                   Style="{StaticResource BodyText}"/>
                    </CheckBox>

                    <!-- Connect button -->
                    <Button Content="Se connecter" 
                            Style="{StaticResource PrimaryButton}" 
                            Command="{Binding ConnectCommand}"
                            Height="40"
                            FontSize="16"/>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- SAVED SERVERS                                                    -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Border Grid.Row="4" Style="{StaticResource CardPanel}">
                <StackPanel>
                    <TextBlock Text="Serveurs sauvegardÃ©s" 
                               Style="{StaticResource Heading3}" 
                               Margin="0,0,0,12"/>

                    <ListBox ItemsSource="{Binding SavedServers}"
                             SelectedItem="{Binding SelectedServer}"
                             Background="Transparent"
                             BorderThickness="0"
                             MaxHeight="180"
                             ScrollViewer.VerticalScrollBarVisibility="Auto">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid Margin="0,4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="{Binding DisplayName}" 
                                                   Style="{StaticResource BodyText}"/>
                                        <TextBlock Style="{StaticResource SmallTextMuted}">
                                            <Run Text="{Binding Host}"/>:<Run Text="{Binding Port}"/>
                                        </TextBlock>
                                    </StackPanel>

                                    <Button Grid.Column="1" 
                                            Content="âœ•" 
                                            Style="{StaticResource IconButton}"
                                            Command="{Binding DataContext.RemoveServerCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                            CommandParameter="{Binding}"
                                            ToolTip="Supprimer"/>
                                </Grid>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                                <Setter Property="Padding" Value="8"/>
                                <Setter Property="Margin" Value="0,2"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ListBoxItem">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{StaticResource BorderNormalBrush}"
                                                    BorderThickness="1"
                                                    CornerRadius="6"
                                                    Padding="{TemplateBinding Padding}">
                                                <ContentPresenter/>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{StaticResource BackgroundLightBrush}"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="{StaticResource BackgroundLighterBrush}"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ListBox.ItemContainerStyle>
                    </ListBox>
                </StackPanel>
            </Border>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <!-- STATUS MESSAGE                                                   -->
            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <TextBlock Grid.Row="6" 
                       Text="{Binding StatusMessage}"
                       Style="{StaticResource BodyTextSecondary}"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"
                       TextAlignment="Center"/>
        </Grid>
    </ScrollViewer>
</Window>
